# Feature Specification: Baseline Project Specification

**Feature Branch**: `002-baseline-specification`
**Created**: 2025-11-14
**Status**: Draft
**Input**: Create a baseline specification that defines the product scope, primary user journeys, data provenance, and quality gates for the "Onregelmatige Werkwoorden Trainer" project.

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Learn single verb (Priority: P1)

As a learner, I want to practice an irregular Dutch verb using a flash-card style interface so I can recall its forms and mark progress.

**Why this priority**: Core value of the product — practicing verbs is the primary user goal.

**Independent Test**: Open the Learn view, answer a single prompt; the UI presents a verb, accepts an input or selection, and records whether the answer was correct.

**Acceptance Scenarios**:
1. **Given** the user has a learning list and opens Learn, **When** the system shows a verb and the user answers correctly, **Then** the word's progress advances (bucket +1) and the next verb is shown.
2. **Given** the user answers incorrectly, **When** they submit, **Then** the word's progress reduces (bucket -1) and the answer is recorded for statistics.

---

### User Story 2 - Review all words table (Priority: P2)

As a learner, I want to see a table of all verbs with learning status and filters by CEFR level so I can manage my learning list.

**Independent Test**: Open All Words view and verify the table lists verbs with status, level filters work, and adding/removing words from current learning list updates the data.

---

### User Story 3 - Export / reproducible data (Priority: P3)

As a teacher or power user, I want to export verb lists and progress to CSV/JSON produced by checked-in scripts so exports are reproducible and versioned.

**Independent Test**: Run the export script in `data/` and verify output includes version metadata and matches the canonical `data/onregelmatige-werkwoorden.json` after transformation.

---

### Edge Cases

- Learning list empty: Learn view should show a helpful empty state and steps to add words.
- Duplicate verbs in data: parser scripts should deduplicate and report issues.
- Offline usage: UIs should fail gracefully when networked features are unavailable.

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: System MUST present a Learn UI that shows a verb prompt and accepts a response, and must update a per-word progress bucket.
- **FR-002**: System MUST persist user progress (per the persistence choice in Assumptions) and allow removal/addition of verbs from the active learning list.
- **FR-003**: System MUST provide an All Words table with filters by CEFR level and progress status.
- **FR-004**: System MUST include an export script in `data/` that generates CSV/JSON with version metadata reproducible from `data/onregelmatige-werkwoorden.json`.
- **FR-005**: System MUST include automated tests for user-visible behavior that affect scoring, persistence, or exports.

*Notes on unclear requirements will appear in Assumptions/Clarifications below.*

### Key Entities *(include if feature involves data)*

- **Verb**: { id, infinitive, imperfectum[], perfectum[], vertaling, hulpWerkwoorden[] }
- **UserProgress**: { userId?, verbId, bucket (0-5), lastReviewedAt, correctCount, incorrectCount }
- **LearningList**: { id, name, verbIds[] }

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Learners can complete a single Learn interaction (prompt → answer → progress change) in under 30 seconds on a standard laptop.
- **SC-002**: 95% of exported CSV/JSON files generated by the checked-in script must parse and validate against the canonical schema derived from `data/onregelmatige-werkwoorden.json`.
- **SC-003**: Unit or integration tests covering Learn flow and persistence must be present and pass in CI for any PR touching those areas.
- **SC-004**: The All Words table must load and render the first 100 entries in under 2 seconds on a typical dev machine.

---

Constitution alignment notes (required):

- Data provenance: reference `data/onregelmatige-werkwoorden.json` or provide a checked-in transformation script that produces any derived data.
- Tests: enumerate the automated tests (unit/integration) that validate the success criteria above; include file paths where they will live.
- Versioning: indicate if the change is backwards compatible and the required semantic version action (MAJOR/MINOR/PATCH). If MAJOR, include a migration plan.
